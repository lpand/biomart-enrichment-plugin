
<div class="container">
    <div class="row">
        <mv-species class="col-md-8" species="{{species}}"></mv-species>
        <div class="query-buttons col-md-4" ng-cotroller="QueryCtrl as ctrl">
            <button class="btn btn-default" ng-click="ctrl.submit()">Submit</button>
            <button class="btn btn-default" ng-click="ctrl.getQuery()">Get XML Query</button>
        </div>
    </div>

    <div class="row" ng-controller="EnrichmentCtrl as enr">

        <div class="row">
            <h2>Select one of these inputs</h2>
            <tabset type="pills" justified="true">
                <tab heading="List of Genes">
                    <div mv-filter="enr.getFilter('sets')"
                         mv-filter-model="ctrl.setsFilterValue">
                     </div>
                </tab>
                <tab heading="BED File">
                    <div class="col-md-8"
                         mv-filter="enr.getFilter('bed_regions')"
                         ng-filter-model="ctrl.bedFilterValue">
                     </div>
                     <div class="col-md-4">
                        <div mv-filter="enr.getFilter('downstream')"
                             mv-filter-model="downstreamFilterValue">
                         </div>
                         <div mv-filter="enr.getFilter('upstream')"
                              mv-filter-model="ctrl.upstreamFilterValue">
                         </div>
                     </div>
                </tab>
            </tabset>
        </div>

        <div class="row">
            <h2>Background is optional</h2>
            <tabset type="pills" justified="true">
                <tab heading="Background">
                    <div mv-filter="enr.getFilter('background')"
                         mv-filter-model="enr.set('background', value)">
                     </div>
                </tab>
            </tabset>
        </div>

        <div class="row">
            <h2>Output filtering</h2>
            <tabset type="pills" justified="true">
                <tab heading="Cutoff">
                    <div mv-filter="enr.getFilter('cutoff')"
                         ng-filter-model="ctrl.cutoffFilterValue">
                     </div>
                     <div mv-filter="enr.getFilter('gene_type')"
                         ng-filter-model="geneTypeFilterValue">
                     </div>
                     <div mv-filter="enr.getFilter('gene_limit')"
                         ng-model="geneLimitFilterValue"
                         ng-change="enr.set('gene_limit', geneLimitFilterValue)">
                     </div>
                     <div mv-filter="enr.getFilter('homolog')"
                         ng-model="homologFilterValue"
                         ng-change="enr.set('homolog', homologFilterValue)">
                     </div>
                </tab>
            </tabset>
        </div>

        <div class="row">
            <h2>Annotations</h2>
            <tabset type="pills" justified="true">
                <tab heading="Annotations">
                    <div ng-repeat="a in enr.getAttributes('annotations')"
                         mv-bio-attribute="a"
                         ng-model="annotationNames"
                         ng-change="enr.set('annotation', annotationNames)">
                     </div>
                </tab>
            </tabset>
        </div>

    </div>

    <!-- <div class="mve-background"></div>
    <div class="mve-cutoff"></div>
    <div class="mve-annotations"></div> -->
</div>